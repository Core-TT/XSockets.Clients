angular.module("xsockets",[]).provider("xs",[function(){var n=this;this.instance=undefined;this.$get=["$q","$rootScope",function(t,i){if(n.controllers.length===0)throw"You need to configure the controllers";n.instance=new XSockets.WebSocket(n.url,n.controllers);n.instance.onconnected=function(){};var r=function(r){var f,u=n.instance.controller(r),e=function(n,t,i){return u.invoke(n,t),i&&i(n,t),this},o=function(n,t){u.on(n,function(n){i.$apply(function(i){t(n,i)})});return this},s=function(n,t,r){return u.subscribe(n,function(n){i.$apply(function(i){t(n,i)})},typeof r=="function"?function(n){i.$apply(function(t){r(n,t)})}:undefined),this},h=function(n,t,i){return u.publish(n,t),i&&i(n,t),this},c=function(n,t){return u.unsubscribe(n),t&&t(n),this},l=function(n){return u.close(),n&&n(),this},a=function(){var n=t.defer();return u.onclose=function(t){n.resolve(t)},n.promise},v=function(n,t,r){u.one(n,function(n){i.$apply(function(i){t(n,i)},r)});return this},y=function(n,t,r){return u.many(n,t,function(n){i.$apply(function(t){r(n,t)})}),this},p=function(){var n=t.defer();return u.onerror=function(t){n.resolve(t)},n.promise},w=function(){var n=t.defer();return u.onopen=function(t){f=t;n.resolve(t)},n.promise},b=function(n,t){u.setEnum(n,t)},k=function(n,t){u.setProperty(n,t)};return{on:o,invoke:e,publish:h,subscribe:s,unsubscribe:c,onopen:w(),onclose:a(),onerror:p(),clientInfo:f,close:l,one:v,many:y,setEnum:b,setProperty:k}},u=function(){return n.controllerInstances};return{controllers:u,controller:r}}];this.url="ws://127.0.0.1:4502";this.controllers=[]}]);
/*
//# sourceMappingURL=xsocketsProvider.min.js.map
*/